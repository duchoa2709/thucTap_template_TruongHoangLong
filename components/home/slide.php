<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>

    <section>
        <div class="flex">
            <div class="w-2/12 flex items-center">
                <div class="w-full text-right">
                    <button onclick="prev()" class="p-3 rounded-full bg-white border-gray-700 shadow-lg mr-5">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 4.5l-7.5 7.5 7.5 7.5" />
                        </svg>
                    </button>
                </div>
            </div>

            <div id="sliderContainer" class="w-10/12 overflow-hidden">
                <ul id="slider" class="flex w-full">
                    <li class="p-5">
                        <div class="border rounded-lg p-5 h-full">
                            <img class="h-50 w-full object-cover rounded-md" src="\TruongHoangLong-ThucTap\public\images\Rectangle269.png"
                                alt="">
                            <h2 class="mt-2 text-2xl font-bold text-gray-700">
                                DỰ ÁN
                            </h2>
                            <p class="mt-2 text-gray-500">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores magni aliquid
                                tenetur explicabo. In, dolorum, ex quia consequuntur culpa odit officiis non maiores
                                inventore veniam consequatur unde animi, voluptatem mollitia.
                            </p>
                        </div>
                    </li>
                    <li class="p-5">
                        <div class="border rounded-lg p-5 h-full">
                            <img class="h-50 w-full object-cover rounded-md" src="./public/images/Frame18579.jpg"
                                alt="">
                            <h2 class="mt-2 text-2xl font-bold text-gray-700">
                                DỰ ÁN
                            </h2>
                            <p class="mt-2 text-gray-500">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores magni aliquid
                                tenetur explicabo. In, dolorum, ex quia consequuntur culpa odit officiis non maiores
                                inventore veniam consequatur unde animi, voluptatem mollitia.
                            </p>
                        </div>
                    </li>
                    <li class="p-5">
                        <div class="border rounded-lg p-5 h-full">
                            <img class="h-50 w-full object-cover rounded-md" src="./public/images/Frame18579.png"
                                alt="">
                            <h2 class="mt-2 text-2xl font-bold text-gray-700">
                                DỰ ÁN
                            </h2>
                            <p class="mt-2 text-gray-500">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores magni aliquid
                                tenetur explicabo. In, dolorum, ex quia consequuntur culpa odit officiis non maiores
                                inventore veniam consequatur unde animi, voluptatem mollitia.
                            </p>
                        </div>
                    </li>
                    <li class="p-5">
                        <div class="border rounded-lg p-5 h-full">
                            <img class="h-50 w-full object-cover rounded-md" src="./public/images/Rectangle269.png"
                                alt="">
                            <h2 class="mt-2 text-2xl font-bold text-gray-700">
                                DỰ ÁN
                            </h2>
                            <p class="mt-2 text-gray-500">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores magni aliquid
                                tenetur explicabo. In, dolorum, ex quia consequuntur culpa odit officiis non maiores
                                inventore veniam consequatur unde animi, voluptatem mollitia.
                            </p>
                        </div>
                    </li>
                    <li class="p-5">
                        <div class="border rounded-lg p-5 h-full">
                            <img class="h-50 w-full object-cover rounded-md" src="./public/images/Rectangle269.png"
                                alt="">
                            <h2 class="mt-2 text-2xl font-bold text-gray-700">
                                DỰ ÁN
                            </h2>
                            <p class="mt-2 text-gray-500">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores magni aliquid
                                tenetur explicabo. In, dolorum, ex quia consequuntur culpa odit officiis non maiores
                                inventore veniam consequatur unde animi, voluptatem mollitia.
                            </p>
                        </div>
                    </li>
                    <li class="p-5">
                        <div class="border rounded-lg p-5 h-full">
                            <img class="h-50 w-full object-cover rounded-md" src="./public/images/Rectangle269.png"
                                alt="">
                            <h2 class="mt-2 text-2xl font-bold text-gray-700">
                                DỰ ÁN
                            </h2>
                            <p class="mt-2 text-gray-500">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores magni aliquid
                                tenetur explicabo. In, dolorum, ex quia consequuntur culpa odit officiis non maiores
                                inventore veniam consequatur unde animi, voluptatem mollitia.
                            </p>
                        </div>
                    </li>
                    <li class="p-5">
                        <div class="border rounded-lg p-5 h-full">
                            <img class="h-50 w-full object-cover rounded-md" src="./public/images/Rectangle269.png"
                                alt="">
                            <h2 class="mt-2 text-2xl font-bold text-gray-700">
                                DỰ ÁN
                            </h2>
                            <p class="mt-2 text-gray-500">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores magni aliquid
                                tenetur explicabo. In, dolorum, ex quia consequuntur culpa odit officiis non maiores
                                inventore veniam consequatur unde animi, voluptatem mollitia.
                            </p>
                        </div>
                    </li>
                    <li class="p-5">
                        <div class="border rounded-lg p-5 h-full">
                            <img class="h-50 w-full object-cover rounded-md" src="./public/images/Rectangle269.png"
                                alt="">
                            <h2 class="mt-2 text-2xl font-bold text-gray-700">
                                DỰ ÁN
                            </h2>
                            <p class="mt-2 text-gray-500">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores magni aliquid
                                tenetur explicabo. In, dolorum, ex quia consequuntur culpa odit officiis non maiores
                                inventore veniam consequatur unde animi, voluptatem mollitia.
                            </p>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="w-2/12 flex items-center">
                <div class="w-full text-left">
                    <button onclick="next()" class="p-3 rounded-full bg-white border-gray-700 shadow-lg ml-5">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </section>
</body>
<script src="./public/js/app.js"></script>
<script>
let sliderContainer = document.getElementById('sliderContainer');
let slider = document.getElementById('slider');
let cards = slider.getElementsByTagName('li');

let elementToShow = 3;
if (document.body.clientWidth < 1000) {
    elementToShow = 1;
}
if (document.body.clientWidth < 1500) {
    elementToShow = 2;
}

let sliderContainerWidth = sliderContainer.clientWidth;

let cardWidth = sliderContainerWidth / elementToShow;

slider.style.width = cardWidth * cards.length + 'px';
slider.style.transition = 'margin';
slider.style.transitionDuration = '1s';

for (let i = 0; i < cards.length; i++) {
    const element = cards[i];
    element.style.width = cardWidth + 'px';
}

let isTransitioning = false;

function next() {
    if (!isTransitioning) {
        isTransitioning = true;

        const currentMargin = +slider.style.marginLeft.slice(0, -2);
        const maxMargin = cardWidth * (cards.length - elementToShow);

        if (currentMargin !== maxMargin) {
            slider.style.marginLeft = (currentMargin + cardWidth) + 'px';
        }

        // Sử dụng sự kiện transitionend để xác định khi chuyển động kết thúc
        slider.addEventListener('transitionend', handleTransitionEnd);
    }
}

function prev() {
    if (!isTransitioning) {
        isTransitioning = true;

        const currentMargin = +slider.style.marginLeft.slice(0, -2);
        const minMargin = -cardWidth * (cards.length - elementToShow);

        if (currentMargin !== minMargin) {
            slider.style.marginLeft = (currentMargin - cardWidth) + 'px';
        }

        slider.addEventListener('transitionend', handleTransitionEnd);
    }
}

function handleTransitionEnd() {
    // Đặt lại biến isTransitioning và xóa sự kiện để ngăn chặn việc gọi lại handleTransitionEnd
    isTransitioning = false;
    slider.removeEventListener('transitionend', handleTransitionEnd);
}
</script>

</html>